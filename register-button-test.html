<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>æ³¨å†ŒæŒ‰é’®æµ‹è¯•</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        background: #f5f5f5;
      }
      .test-container {
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
      }
      .test-step {
        margin: 15px 0;
        padding: 10px;
        border-left: 4px solid #007bff;
        background: #f8f9fa;
      }
      .success {
        border-left-color: #28a745;
      }
      .error {
        border-left-color: #dc3545;
      }
      .warning {
        border-left-color: #ffc107;
      }

      button {
        background: #007bff;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 4px;
        cursor: pointer;
        margin: 5px;
      }
      button:hover {
        background: #0056b3;
      }
      button:disabled {
        background: #6c757d;
        cursor: not-allowed;
      }

      .console-output {
        background: #000;
        color: #00ff00;
        padding: 15px;
        border-radius: 4px;
        font-family: monospace;
        font-size: 12px;
        max-height: 300px;
        overflow-y: auto;
        white-space: pre-wrap;
      }
    </style>
  </head>
  <body>
    <h1>ğŸ” æ³¨å†ŒæŒ‰é’®æµ‹è¯•é¡µé¢</h1>

    <div class="test-container">
      <h2>æµ‹è¯•æ­¥éª¤</h2>
      <div class="test-step">
        <strong>1. æ‰“å¼€æ³¨å†Œé¡µé¢</strong><br />
        è®¿é—®:
        <a href="http://localhost:8080/register" target="_blank"
          >http://localhost:8080/register</a
        >
      </div>

      <div class="test-step">
        <strong>2. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·</strong><br />
        æŒ‰ F12 é”®ï¼Œåˆ‡æ¢åˆ° Console é¢æ¿
      </div>

      <div class="test-step">
        <strong>3. å¡«å†™æ³¨å†Œè¡¨å•</strong><br />
        - é‚®ç®±: test@example.com<br />
        - ç‚¹å‡»"Send Code"è·å–éªŒè¯ç <br />
        - éªŒè¯ç : è¾“å…¥æ”¶åˆ°çš„6ä½æ•°å­—<br />
        - å¯†ç : password123<br />
        - ç¡®è®¤å¯†ç : password123<br />
        - å‹¾é€‰åŒæ„æ¡æ¬¾
      </div>

      <div class="test-step">
        <strong>4. ç‚¹å‡»æ³¨å†ŒæŒ‰é’®</strong><br />
        ç‚¹å‡»"Create Account"æŒ‰é’®ï¼Œè§‚å¯Ÿæ§åˆ¶å°è¾“å‡º
      </div>
    </div>

    <div class="test-container">
      <h2>å¿«é€Ÿæµ‹è¯•å·¥å…·</h2>
      <p>åœ¨æ³¨å†Œé¡µé¢çš„æ§åˆ¶å°ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>

      <button onclick="copyToClipboard('testRegisterButton()')">
        å¤åˆ¶: è¿è¡Œå®Œæ•´æµ‹è¯•
      </button>

      <button onclick="copyToClipboard('fillTestForm()')">
        å¤åˆ¶: å¡«å†™æµ‹è¯•è¡¨å•
      </button>

      <button onclick="copyToClipboard('$vm0.canSubmit')">
        å¤åˆ¶: æ£€æŸ¥æŒ‰é’®çŠ¶æ€
      </button>

      <button onclick="copyToClipboard('$vm0.handleRegister()')">
        å¤åˆ¶: æ‰‹åŠ¨è§¦å‘æ³¨å†Œ
      </button>
    </div>

    <div class="test-container">
      <h2>é¢„æœŸçš„æ§åˆ¶å°è¾“å‡º</h2>
      <div class="console-output" id="expectedOutput">
        ğŸš€ Register button clicked, starting registration process... ğŸ“Š Form
        data: {email: "test@example.com", verificationCode: "123456", password:
        "password123", confirmPassword: "password123", agreeTerms: true} ğŸ“Š
        Errors: {email: "", verificationCode: "", password: "", confirmPassword:
        ""} ğŸ“Š Can submit: true âœ… Form validation passed, calling register
        API...
      </div>
    </div>

    <div class="test-container">
      <h2>å¸¸è§é—®é¢˜è§£å†³</h2>

      <div class="test-step error">
        <strong>é—®é¢˜1: æŒ‰é’®æ˜¯ç°è‰²çš„ï¼Œæ— æ³•ç‚¹å‡»</strong><br />
        è§£å†³: ç¡®ä¿æ‰€æœ‰å­—æ®µéƒ½å·²å¡«å†™ï¼Œå¯†ç åŒ¹é…ï¼Œå·²å‹¾é€‰åŒæ„æ¡æ¬¾
      </div>

      <div class="test-step error">
        <strong>é—®é¢˜2: ç‚¹å‡»æŒ‰é’®æ²¡æœ‰æ§åˆ¶å°è¾“å‡º</strong><br />
        è§£å†³: æ£€æŸ¥æ˜¯å¦æœ‰JavaScripté”™è¯¯ï¼Œåˆ·æ–°é¡µé¢é‡è¯•
      </div>

      <div class="test-step error">
        <strong>é—®é¢˜3: æœ‰è¾“å‡ºä½†æ²¡æœ‰ç½‘ç»œè¯·æ±‚</strong><br />
        è§£å†³: æ£€æŸ¥éªŒè¯ç æ˜¯å¦æ­£ç¡®ï¼ŒæŸ¥çœ‹Networké¢æ¿
      </div>

      <div class="test-step warning">
        <strong>é—®é¢˜4: éªŒè¯ç è·å–å¤±è´¥</strong><br />
        è§£å†³: ç¡®ä¿åç«¯æœåŠ¡æ­£åœ¨è¿è¡Œï¼Œæ£€æŸ¥é‚®ç®±æ ¼å¼
      </div>
    </div>

    <div class="test-container">
      <h2>è°ƒè¯•å‘½ä»¤</h2>
      <p>åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­è¿è¡Œï¼š</p>
      <div class="console-output">
        // æ£€æŸ¥è¡¨å•æ•°æ® $vm0.form // æ£€æŸ¥é”™è¯¯ä¿¡æ¯ $vm0.errors //
        æ£€æŸ¥æ˜¯å¦å¯ä»¥æäº¤ $vm0.canSubmit // æ‰‹åŠ¨è§¦å‘æ³¨å†Œ $vm0.handleRegister() //
        æ£€æŸ¥æŒ‰é’®å…ƒç´  document.querySelector('.register-button') //
        æ£€æŸ¥æŒ‰é’®æ˜¯å¦ç¦ç”¨ document.querySelector('.register-button').disabled
      </div>
    </div>

    <script>
      function copyToClipboard(text) {
        navigator.clipboard
          .writeText(text)
          .then(() => {
            alert("å·²å¤åˆ¶åˆ°å‰ªè´´æ¿: " + text);
          })
          .catch((err) => {
            console.error("å¤åˆ¶å¤±è´¥:", err);
            // å¤‡ç”¨æ–¹æ³•
            const textArea = document.createElement("textarea");
            textArea.value = text;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand("copy");
            document.body.removeChild(textArea);
            alert("å·²å¤åˆ¶åˆ°å‰ªè´´æ¿: " + text);
          });
      }

      // æ£€æŸ¥æ³¨å†Œé¡µé¢æ˜¯å¦æ‰“å¼€
      function checkRegisterPage() {
        fetch("http://localhost:8080/register")
          .then((response) => {
            if (response.ok) {
              document.querySelector(".test-step").classList.add("success");
            }
          })
          .catch((error) => {
            console.log("æ³¨å†Œé¡µé¢æœªæ‰“å¼€æˆ–æ— æ³•è®¿é—®");
          });
      }

      // é¡µé¢åŠ è½½æ—¶æ£€æŸ¥
      checkRegisterPage();
    </script>
  </body>
</html>
