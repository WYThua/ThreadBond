# ThreadBond - åŒ¿åçº¿ç´¢ç¤¾äº¤åº”ç”¨

ThreadBond æ˜¯ä¸€æ¬¾åˆ›æ–°çš„åŒ¿åçº¿ç´¢ç¤¾äº¤åº”ç”¨ï¼Œé€šè¿‡ç‹¬ç‰¹çš„"è§£å¯†"äº’åŠ¨æœºåˆ¶è®©ç”¨æˆ·èƒ½å¤Ÿåœ¨ä¿æŒåŒ¿åçš„åŒæ—¶è¿›è¡Œæ·±åº¦ç¤¾äº¤ã€‚ç”¨æˆ·å¯ä»¥åˆ›å»ºå……æ»¡æ‚¬å¿µçš„çº¿ç´¢å¡ä¾›ä»–äººè§£å¯†ï¼Œä¹Ÿå¯ä»¥è§£å¯†ä»–äººçš„çº¿ç´¢å¡æ¥è§£é”åŒ¿åèŠå¤©åŠŸèƒ½ã€‚

## ğŸš¨ é‡è¦å¼€å‘è§„åˆ™

**åç«¯æœåŠ¡å¿…é¡»åœ¨ Docker å®¹å™¨ä¸­è¿è¡Œï¼Œä¸¥ç¦åœ¨æœ¬åœ°ç›´æ¥è¿è¡Œä»»ä½•åç«¯ç›¸å…³æœåŠ¡ï¼**

åŒ…æ‹¬ä½†ä¸é™äºï¼š
- Node.js åç«¯åº”ç”¨
- MySQL æ•°æ®åº“  
- Redis ç¼“å­˜
- å…¶ä»–åç«¯ä¾èµ–æœåŠ¡

è¿åæ­¤è§„åˆ™çš„æ“ä½œå°†è¢«é˜»æ­¢ã€‚è¯·ä½¿ç”¨ `npm run check-rules` æ£€æŸ¥åˆè§„æ€§ã€‚

## ğŸš€ é¡¹ç›®ç‰¹è‰²

- **åŒ¿åç¤¾äº¤**: å®Œå…¨åŒ¿åçš„ç¤¾äº¤ä½“éªŒï¼Œä¿æŠ¤ç”¨æˆ·éšç§
- **çº¿ç´¢è§£å¯†**: ç‹¬ç‰¹çš„è§£å¯†äº’åŠ¨æœºåˆ¶ï¼Œå¢åŠ ç¤¾äº¤è¶£å‘³æ€§
- **AI è¾…åŠ©**: é›†æˆ AI æŠ€æœ¯æä¾›çº¿ç´¢ç”Ÿæˆå’Œæƒ…ç»ªåˆ†æ
- **ç§»åŠ¨ä¼˜å…ˆ**: ä¸“ä¸ºç§»åŠ¨è®¾å¤‡ä¼˜åŒ–çš„ PWA åº”ç”¨
- **å®æ—¶èŠå¤©**: åŸºäº Socket.IO çš„å®æ—¶æ¶ˆæ¯ä¼ é€’
- **å®‰å…¨ä¿æŠ¤**: ç«¯åˆ°ç«¯åŠ å¯†å’Œå®Œå–„çš„å®‰å…¨æœºåˆ¶

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ
- **Node.js 18+** - è¿è¡Œæ—¶ç¯å¢ƒ
- **Express.js** - Web æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **Prisma** - ORM æ•°æ®åº“æ“ä½œ
- **MySQL 8.0** - ä¸»æ•°æ®åº“
- **Redis** - ç¼“å­˜å’Œä¼šè¯å­˜å‚¨
- **Socket.IO** - å®æ—¶é€šä¿¡
- **Passport.js** - èº«ä»½è®¤è¯
- **Docker** - å®¹å™¨åŒ–éƒ¨ç½²

### å‰ç«¯æŠ€æœ¯æ ˆ
- **Vue 2** - å‰ç«¯æ¡†æ¶
- **Vant UI** - ç§»åŠ¨ç«¯ UI ç»„ä»¶åº“
- **Vuex** - çŠ¶æ€ç®¡ç†
- **Vue Router** - è·¯ç”±ç®¡ç†
- **Axios** - HTTP å®¢æˆ·ç«¯
- **Socket.IO Client** - å®æ—¶é€šä¿¡å®¢æˆ·ç«¯
- **PWA** - æ¸è¿›å¼ Web åº”ç”¨

## ğŸ“¦ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 18+
- Docker & Docker Compose
- Git

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <repository-url>
cd threadbond-app
```

2. **é…ç½®ç¯å¢ƒå˜é‡**
```bash
# åç«¯ç¯å¢ƒé…ç½®
cp backend/.env.example backend/.env
# ç¼–è¾‘ backend/.env æ–‡ä»¶ï¼Œå¡«å…¥å®é™…é…ç½®

# å‰ç«¯ç¯å¢ƒé…ç½®
cp frontend/.env.example frontend/.env
# ç¼–è¾‘ frontend/.env æ–‡ä»¶ï¼Œå¡«å…¥å®é™…é…ç½®
```

3. **å¯åŠ¨æœåŠ¡**
```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆæ¨èï¼‰
npm run dev

# æˆ–è€…åˆ†åˆ«å¯åŠ¨
npm run dev:backend  # ä»…å¯åŠ¨åç«¯
npm run dev:frontend # ä»…å¯åŠ¨å‰ç«¯
```

4. **åˆå§‹åŒ–æ•°æ®åº“**
```bash
# è¿›å…¥åç«¯å®¹å™¨
docker exec -it threadbond-backend bash

# è¿è¡Œæ•°æ®åº“è¿ç§»
npm run prisma:migrate

# è¿è¡Œç§å­æ•°æ®
npm run prisma:seed
```

### è®¿é—®åº”ç”¨

- **å‰ç«¯åº”ç”¨**: http://localhost:8080
- **åç«¯ API**: http://localhost:3000
- **API æ–‡æ¡£**: http://localhost:3000/health
- **æ•°æ®åº“ç®¡ç†**: `docker exec -it threadbond-mysql mysql -u threadbond_user -p`

## ğŸ³ Docker éƒ¨ç½²

é¡¹ç›®å®Œå…¨åŸºäº Docker å®¹å™¨åŒ–ï¼Œæ‰€æœ‰åç«¯ç›¸å…³çš„é…ç½®ã€ç¼–è¯‘å’Œè¿è¡Œéƒ½åœ¨ Docker ä¸­æ‰§è¡Œã€‚

### æœåŠ¡è¯´æ˜

- **threadbond-mysql**: MySQL 8.0 æ•°æ®åº“æœåŠ¡
- **threadbond-redis**: Redis ç¼“å­˜æœåŠ¡
- **threadbond-backend**: Node.js åç«¯æœåŠ¡
- **threadbond-frontend**: Vue.js å‰ç«¯æœåŠ¡

### å¸¸ç”¨å‘½ä»¤

```bash
# æ„å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up --build

# åå°è¿è¡Œ
docker-compose up -d

# åœæ­¢æ‰€æœ‰æœåŠ¡
docker-compose down

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f [service-name]

# è¿›å…¥å®¹å™¨
docker exec -it [container-name] bash

# æ¸…ç†æ‰€æœ‰æ•°æ®å’Œé•œåƒ
npm run clean
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
threadbond-app/
â”œâ”€â”€ backend/                 # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ src/                # æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ config/         # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ controllers/    # æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ middleware/     # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ routes/         # è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ services/       # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ index.ts        # å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ prisma/             # æ•°æ®åº“æ¨¡å¼å’Œè¿ç§»
â”‚   â”œâ”€â”€ Dockerfile          # Docker é…ç½®
â”‚   â””â”€â”€ package.json        # ä¾èµ–é…ç½®
â”œâ”€â”€ frontend/               # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/                # æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ components/     # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ views/          # é¡µé¢
â”‚   â”‚   â”œâ”€â”€ store/          # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ router/         # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ styles/         # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ main.js         # å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ public/             # é™æ€èµ„æº
â”‚   â”œâ”€â”€ Dockerfile          # Docker é…ç½®
â”‚   â””â”€â”€ package.json        # ä¾èµ–é…ç½®
â”œâ”€â”€ docker/                 # Docker ç›¸å…³é…ç½®
â”‚   â””â”€â”€ mysql/              # MySQL åˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ docker-compose.yml      # Docker Compose é…ç½®
â””â”€â”€ package.json            # é¡¹ç›®æ ¹é…ç½®
```

## ğŸ”§ å¼€å‘æŒ‡å—

### åç«¯å¼€å‘

1. **æ·»åŠ æ–°çš„ API è·¯ç”±**
   - åœ¨ `backend/src/routes/` ä¸­åˆ›å»ºè·¯ç”±æ–‡ä»¶
   - åœ¨ `backend/src/index.ts` ä¸­æ³¨å†Œè·¯ç”±

2. **æ•°æ®åº“æ“ä½œ**
   - ä¿®æ”¹ `backend/prisma/schema.prisma` å®šä¹‰æ•°æ®æ¨¡å‹
   - è¿è¡Œ `npm run prisma:migrate` ç”Ÿæˆè¿ç§»
   - è¿è¡Œ `npm run prisma:generate` æ›´æ–°å®¢æˆ·ç«¯

3. **æ·»åŠ ä¸­é—´ä»¶**
   - åœ¨ `backend/src/middleware/` ä¸­åˆ›å»ºä¸­é—´ä»¶
   - åœ¨ç›¸åº”è·¯ç”±ä¸­ä½¿ç”¨

### å‰ç«¯å¼€å‘

1. **æ·»åŠ æ–°é¡µé¢**
   - åœ¨ `frontend/src/views/` ä¸­åˆ›å»º Vue ç»„ä»¶
   - åœ¨ `frontend/src/router/index.js` ä¸­æ·»åŠ è·¯ç”±

2. **çŠ¶æ€ç®¡ç†**
   - åœ¨ `frontend/src/store/modules/` ä¸­åˆ›å»º Vuex æ¨¡å—
   - åœ¨ `frontend/src/store/index.js` ä¸­æ³¨å†Œæ¨¡å—

3. **æ ·å¼å¼€å‘**
   - ä½¿ç”¨ Vant UI ç»„ä»¶åº“
   - è‡ªå®šä¹‰æ ·å¼æ”¾åœ¨ `frontend/src/styles/` ä¸­

## ğŸ§ª æµ‹è¯•

### åç«¯æµ‹è¯•
```bash
# è¿›å…¥åç«¯å®¹å™¨
docker exec -it threadbond-backend bash

# è¿è¡Œå•å…ƒæµ‹è¯•
npm test

# è¿è¡Œæµ‹è¯•å¹¶ç›‘å¬å˜åŒ–
npm run test:watch
```

### å‰ç«¯æµ‹è¯•
```bash
# è¿›å…¥å‰ç«¯å®¹å™¨
docker exec -it threadbond-frontend bash

# è¿è¡Œå•å…ƒæµ‹è¯•
npm run test:unit
```

## ğŸ“š API æ–‡æ¡£

API æ–‡æ¡£å°†åœ¨åç»­ä»»åŠ¡ä¸­å®Œå–„ï¼Œç›®å‰å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æŸ¥çœ‹ï¼š

- å¥åº·æ£€æŸ¥ç«¯ç‚¹: `GET /health`
- æ‰€æœ‰ API è·¯ç”±éƒ½åœ¨ `/api` å‰ç¼€ä¸‹

## ğŸ”’ å®‰å…¨ç‰¹æ€§

- JWT èº«ä»½è®¤è¯
- é€Ÿç‡é™åˆ¶
- æ•°æ®åŠ å¯†å­˜å‚¨
- è¾“å…¥éªŒè¯å’Œæ¸…ç†
- CORS ä¿æŠ¤
- å®‰å…¨å¤´éƒ¨è®¾ç½®

## ğŸŒ ç¯å¢ƒé…ç½®

### å¼€å‘ç¯å¢ƒ
- è‡ªåŠ¨é‡è½½
- è¯¦ç»†é”™è¯¯ä¿¡æ¯
- å¼€å‘å·¥å…·æ”¯æŒ

### ç”Ÿäº§ç¯å¢ƒ
- ä»£ç å‹ç¼©
- é”™è¯¯æ—¥å¿—è®°å½•
- æ€§èƒ½ç›‘æ§
- å®‰å…¨åŠ å›º

## ğŸ“ è®¸å¯è¯

MIT License

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- åˆ›å»º Issue
- å‘é€é‚®ä»¶è‡³é¡¹ç›®ç»´æŠ¤è€…

---

**æ³¨æ„**: è¿™æ˜¯é¡¹ç›®çš„åŸºç¡€æ¶æ„æ­å»ºé˜¶æ®µï¼Œå…·ä½“çš„ä¸šåŠ¡åŠŸèƒ½å°†åœ¨åç»­ä»»åŠ¡ä¸­é€æ­¥å®ç°ã€‚